import{r as e,h as t}from"./p-9e81b5d8.js";const o="QKAB4FFTVDRXG1P4";const i=":host{display:block;border:2px solid purple;margin:2rem;padding:1rem;width:20rem;max-width:100%}form input{font:inherit;color:purple;padding:.15rem .25rem;display:block;margin-bottom:.5rem}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:.25rem .5rem;border:1px solid purple;background:purple;color:white;cursor:pointer}form button:hover,form button:active{background:rgb(189, 3, 189);border-color:rgb(189, 3, 189)}form button:disabled{background:#ccc;border-color:#ccc;color:white;cursor:not-allowed}";const n=i;const s=class{constructor(t){e(this,t);this.fetchedPrice=undefined;this.stockUserInput=undefined;this.stockInputValid=false;this.error=undefined;this.stockSymbol=undefined}stockSymbolChanged(e,t){if(e!==t){this.stockUserInput=e;this.fetchStockPrice(e)}}onUserInput(e){this.stockUserInput=e.target.value;if(this.stockUserInput.trim()!=="")this.stockInputValid=true;else this.stockInputValid=false}onFetchStockPrice(e){e.preventDefault();this.stockSymbol=this.stockInput.value}componentWillLoad(){console.log("commponentWillLoad");console.log(this.stockSymbol)}componentDidLoad(){console.log("componentDidLoad");if(this.stockSymbol){this.stockUserInput=this.stockSymbol;this.stockInputValid=true;this.fetchStockPrice(this.stockSymbol)}}componentWillUpdate(){console.log("compoenntWillUpdate")}componentDidUpdate(){console.log("componentDidUpdate")}disconnectedCallback(){console.log("disconnectedCallback")}fetchStockPrice(e){fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${e}&apikey=${o}`).then((e=>{if(e.status!==200){throw new Error("Invalid!")}return e.json()})).then((e=>{if(!e["Global Quote"]["05. price"]){throw new Error("Invalid symbol!")}this.error=null;this.fetchedPrice=+e["Global Quote"]["05. price"]})).catch((e=>this.error=e.message))}render(){let e=t("p",{key:"58fbe7a7d5e8c0d53899de6e15e844125110fb89"},"Please enter a symbol");if(this.error){e=t("p",{key:"40b6b8dcbf2c65efd7891d6f4481de8d8d32f839"},this.error)}if(this.fetchedPrice){e=t("p",{key:"5279e9f16be793df237d4de2ab6e4f7fdc7950d1"},"Price: $",this.fetchedPrice)}return[t("form",{key:"d21961f714a538b2d00d2fac5fbe1695dd8f9d3c",onSubmit:this.onFetchStockPrice.bind(this)},t("input",{key:"899107f1045f06125fe9286664ceec23484dc955",id:"stock-symbol",ref:e=>this.stockInput=e,value:this.stockUserInput,onInput:this.onUserInput.bind(this)}),t("button",{key:"8733e5a943a82a87908dcb6f9ade318a02e23884",type:"submit",disabled:!this.stockInputValid},"Fetch")),t("div",{key:"a8f02356f6fa389a81db31f53f512c0b706cd484"},e)]}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}};s.style=n;export{s as stock_price};
//# sourceMappingURL=p-12f99041.entry.js.map